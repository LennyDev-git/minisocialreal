{% extends "base.html" %}
{% block content %}
<div class="main-content">
    <div class="post" style="text-align: center; padding: 30px 20px;">
        <img src="{{ url_for('static', filename=profile_user.profile_pic if profile_user.profile_pic else 'default.png') }}" 
             style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 3px solid #ff3856;">
        
        <h2 style="margin: 10px 0 5px 0;">
            {{ profile_user.username }}
            {% if profile_user.is_verified or profile_user.username == "Lenny Fisbeck" %}
                <span class="verified-badge"><svg viewBox="0 0 15 14"><path d="M2 8.36364L6.23077 12L13 2"></path></svg></span>
            {% endif %}
        </h2>

        <div style="display: flex; justify-content: center; gap: 20px; margin: 15px 0; color: #65676b; font-size: 14px;">
            <span><strong>{{ followers_count }}</strong> Followers</span>
            <span><strong>{{ following_count }}</strong> Following</span>
        </div>

        <p style="color: #1c1e21; margin-bottom: 20px;">{{ profile_user.bio }}</p>

        {% if current_user.username != profile_user.username %}
            <div style="display: flex; gap: 10px; justify-content: center;">
                <a href="{{ url_for('follow_user', username=profile_user.username) }}">
                    <button style="background: {{ '#e4e6eb' if is_following else '#ff3856' }}; color: {{ 'black' if is_following else 'white' }};">
                        {{ 'Unfollow' if is_following else 'Follow' }}
                    </button>
                </a>
                <a href="{{ url_for('chats_overview', friend_username=profile_user.username) }}">
                    <button style="background: #e4e6eb; color: black;">Message</button>
                </a>
            </div>
        {% else %}
            <hr style="border: 0; border-top: 1px solid #eee; margin: 20px 0;">
            <div style="text-align: left;">
                <h4 style="margin-bottom: 10px;">Edit Profile</h4>
                <form action="{{ url_for('edit_profile') }}" method="POST" enctype="multipart/form-data">
                    <textarea name="bio" rows="2" style="width: 100%; border: 1px solid #ddd; border-radius: 8px; padding: 10px;">{{ profile_user.bio }}</textarea>
                    <input type="file" name="profile_pic" style="margin-top: 10px; font-size: 12px; display: block;">
                    <button type="submit" style="width: 100%; margin-top: 10px;">Save Changes</button>
                </form>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}


























